/*! weapon_evolution 2016-03-29 */
function WarriorPlayer(a,b,c,d,e){OrdinaryPlayer.call(this,a,b,c),this.armor=d||new NoAmrmor,this.weapon=e||new NoWeapon}var _=require("lodash"),Effect=require("./effect"),OrdinaryPlayer=require("./ordinary-player"),State=require("./modle/state/state"),NoAmrmor=require("./no-armor"),NoWeapon=require("./no-weapon");WarriorPlayer.prototype=Object.create(OrdinaryPlayer.prototype),WarriorPlayer.prototype.constructor=WarriorPlayer,WarriorPlayer.prototype.getAttackInformation=function(a){var b="",c=this.weapon.attackForce,d=this.weapon.getEffect();d&&this.additionalState(d,a);var d=d?d:new Effect;return a.hp-=d.calculationAp(this.attackForce,c),b=this.role()+this.name+"用"+this.weapon.name+"攻击了"+a.role()+a.name+","+d.getCritString(this.name)+a.name+"受到了"+d.calculationAp(this.attackForce,c)+"点伤害,"+d.getEffectString(a.name)+a.name+"剩余生命："+a.hp+"\n\n"},WarriorPlayer.prototype.role=function(){return"战士"},WarriorPlayer.prototype.getAp=function(){return this.ap+this.weapon.attackForce},WarriorPlayer.prototype.beAttacked=function(a){return this.hp-=a,a},WarriorPlayer.prototype.additionalState=function(a,b){var c=new State;b.state=c.getState(a,b.state)},module.exports=WarriorPlayer;